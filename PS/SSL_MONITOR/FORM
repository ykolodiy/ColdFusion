<!---Form processing Script --->
<cfif structKeyExists(form, 'SubmitLSDOMAINS')>
	<!--- Start server side data validation --->
	<cfset aErrorMessages = ArrayNew(1) />
	
		<!--- validate ID --->
		<cfif form.id EQ ''>
			<cfset arrayAppend(aErrorMessages, 'Please provide a valid ID') />
		</cfif>
		<!--- validate Domain --->
		<cfif form.RootDomain EQ ''>
			<cfset arrayAppend(aErrorMessages, 'Please provide a valid RootDomain') />
		</cfif>
		
		<!--- Lets check if aErrorMessages empty? --->
		<cfif ArrayIsEmpty(aErrorMessages)>
			<!---goon on form process coz no error --->
			<cfquery datasource="myoracledatabase">
				INSERT INTO LS_DOMAINS 
				(ID, ROOT_DOMAIN, DATE_CREATED, DATE_UPDATED, DATE_EXPIRES)
				VALUES 
				('#form.id#', '#form.RootDomain#', #form.DateCreated#, #form.DateUpdated#, #form.DateExpires#)
			</cfquery>
			
			<!---feedback --->
			<cfset domainisinserted = true>
		</cfif>
</cfif>


<!DOCTYPE html>
<html>
<head>
<style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 5px;
    text-align: left;
}

</style>
</head>

<body>
	<!--- server side data validation error messages goes here if any --->
<cfif isDefined('aErrorMessages')  >
	<cfoutput >
	<cfloop array="#aErrorMessages#" index="message">
		<p>
			#message#
		</p>
	</cfloop>
	</cfoutput>
</cfif>


<cfif isDefined('domainisinserted')>
DATA INSERTED
	<cfelse>



<cfform id="insertLSDOMAINS" name= "insertLSDOMAINS" method="post" >
	 <fieldset style="display: inline-block">	 <legend>INSERT data to LS_DOMAINS table</legend>
<table style="width:auto">

  <tr>
    <th>Fields</th>
    <th>Data</th> 
  
  </tr>
  <tr>
    <td>ID:</td>
    <td><cfinput type="text" name="id"  required="true" message = "ID can not be empty" ></td>
   
  </tr>
  <tr>
    <td>Root Domain:</td>
    <td><cfinput type="text" name="RootDomain" size="35" required="true" message = "Root Domain can not be empty"  /> </td>
  
  </tr>
  <tr>
    <td>Date created:</td>
    <td> <input type="date" name="DateCreated" min="2017-01-01" required  /></td>
 
  </tr>
  
    <tr>
    <td>Date updated:</td>
    <td> <input type="date" name="DateUpdated" min="2017-01-01"  /></td>
  
  </tr>
  <tr>
    <td>Date expires:</td>
    <td><input type="date"  name="DateExpires" min="2017-01-01" required /></td>
 
  </tr>
</table>


  <cfinput type="submit" name="SubmitLSDOMAINS" value="Submit">
   </fieldset>
</cfform> 

</cfif>


</body>
</html>
