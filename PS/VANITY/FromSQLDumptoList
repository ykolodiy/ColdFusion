<!--- here the list of vanity urls --->
<cfset myFile="C:/tmp/pscrat_vanity_urls.csv" />


<cftry>
	



<cfset array = ArrayNew(1)>

<cfloop file="#myFile#" index="i"  item="line">
	<cfset array[i] = listToArray (#line#, ",",true)>
</cfloop>

<!---Length: <cfdump var="#arrayLen(array)#" >
<cfdump var="#array[333]#" >
<cfdump var="#array[333][2]#" >

<cfdump var="#array[333][3]#" >  use program id if no redirect url in [4]    www.pearsonschool.com/redirect.cfm?programId=34062
<cfdump var="#array[333][4]#" >--->


<cfcatch >
	<cfdump var="#cfcatch#" >
</cfcatch>
</cftry>


Length: <cfdump var="#arrayLen(array)#">
<cfloop from="1" to="#ArrayLen(array)#" index="i">
	<cfset VANITY="https:" & Replace(#array[i][2]#,'"','','All') >
	<cfset DEST="https:" & Replace(#array[i][4]#,'"','','All') >
	<cfset DEST0=Replace(#array[i][4]#,'"','','All') >
	<cfset PROGRAMID="https://www.pearsonschool.com/redirect.cfm?programId=" & Replace(#array[i][3]#,'"','','All') >
		<cfset DEST1="https://www.pearsonschool.com/" & Replace(#array[i][4]#,'"','','All') >
	<cfif DEST neq "https:" && NOT REFindNoCase("^https:index.cfm", DEST) && NOT REFindNoCase("^https:http", DEST) && NOT REFindNoCase("^https: http", DEST)>
		<cfoutput>#VANITY#,#DEST# </cfoutput><br>
		<cfelseif REFindNoCase("^https:index.cfm", DEST) >
		<cfoutput>#VANITY#,#DEST1# </cfoutput><br>
		<cfelseif REFindNoCase("^https:http", DEST) AND REFindNoCase("^https: http", DEST)>
		<cfoutput>#VANITY#,#DEST0# </cfoutput><br>
			<cfelseif REFindNoCase("^https: http", DEST)>
		<cfoutput>#VANITY#,#DEST0# </cfoutput><br>
		<cfelse>
		<cfoutput>#VANITY#,#PROGRAMID# </cfoutput><br>
	</cfif >
	
</cfloop>
